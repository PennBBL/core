{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "EngineMetadata",
    "type": "object",
    "properties": {
        "project":      {
            "type": "object",
            "allOf": [{"$ref": "container.json"}],
            "properties": {
                "_id":    {},
                "public": {},
                "label": {},
                "metadata": {},

                "group": {"type": "string"}
            },
            "additionalProperties": false
        },
        "session":      {
            "type": "object",
            "allOf": [{"$ref": "container.json"}],
            "properties": {
                "_id":    {},
                "public": {},
                "label": {},
                "metadata": {},
                "operator": {"type": "string"},

                "project":      {"type": "string"},
                "uid":          {"type": "string"},
                "timestamp":    {"type": "string"},
                "timezone":     {"type": "string"},
                "subject":      {"$ref": "subject.json"}
            },
            "additionalProperties": false
        },
        "acquisition":  {
            "type": "object",
            "allOf": [{"$ref": "container.json"}],
            "properties": {
                "_id":      {},
                "public":   {},
                "label":    {},
                "metadata": {},

                "session":      {"type": "string"},
                "uid":          {"type": "string"},
                "instrument":   {"type": "string"},
                "measurement":  {"type": "string"},
                "timestamp":    {"type": "string"},
                "timezone":     {"type": "string"},
                "files":        {
                    "type": "array",
                    "items": {"$ref": "file.json"}
                }
            },
            "required": ["_id"],
            "additionalProperties": false
        }
    },
    "required": ["acquisition"],
    "additionalProperties": false
}
